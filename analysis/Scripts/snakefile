configfile: 'cfg.yaml'

rule all:
     input:[ ]

#todo below - add in {placeholders} where file names are known/predictable

#splitting is ignored for now
#rule split:
     #input:["Imports.py", "tuples_prep_scripts/Strip.py", "tuples_prep_scripts/SetBranch.py", "tuples_prep_scripts/SplitScript.py", "/dcache/bfys/jdevries/ntuples/LcAnalysis/ganga/{job_number}/{subjob_number}/*.root"]
     #output:["/dcache/bfys/scalo/{job_name}/bins/ybins/*.root","/dcache/bfys/scalo/{job_name}/bins/ptbins/*.root", /dcache/bfys/scalo/{job_name}/bins/y_ptbins/*.root"]
     #shell:"lbpython tuples_prep_main.py"

rule mass_fitting:
     input:scripts=["MassFitting/autoFitScript.py", "MassFitting/fittingDict.py","/dcache/bfys/scalo/job_name/bins/ptbins/*.root","/dcache/bfys/scalo/job_name/bins/y_ptbins/*.root" , "/dcache/bfys/scalo/job_name/bins/ybins/*.root"],
          particle=config['particle_type']
     output:[]
     run:
         for f in input.particle:
             shell:"lbpython autoFitScript.py f"

rule sWeights:
     input:[ ]
     output: [ ]
     shell:" "